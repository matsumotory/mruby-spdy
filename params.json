{"name":"mruby-spdy","tagline":"SPDY Module for mruby","body":"# SPDY Module for mruby  [![Build Status](https://travis-ci.org/matsumoto-r/mruby-spdy.png?branch=master)](https://travis-ci.org/matsumoto-r/mruby-spdy)\r\nSPDY module for mruby using [spdylay](https://github.com/tatsuhiro-t/spdylay). You can access Web site using SPDY protocol from mruby applications or devices with mruby.\r\n\r\n- [SPDY: An experimental protocol for a faster web](http://www.chromium.org/spdy/spdy-whitepaper) \r\n\r\n    As part of the \"Let's make the web faster\" initiative, we are experimenting with alternative protocols to help reduce the latency of web pages. One of these experiments is SPDY (pronounced \"SPeeDY\"), an application-layer protocol for transporting content over the web, designed specifically for minimal latency.\r\n\r\n## TODO\r\nThis is a very early version, please test and report errors. Wellcome pull-request.\r\n- replace uri parser to mruby-http\r\n- implement some method (post...)\r\n- implement some class (Server, Proxy...)\r\n- write spdy callback function by Ruby block\r\n\r\n## example\r\n- SPDY by mruby\r\n\r\n```ruby\r\nr = SPDY::Client.get 'https://www.google.co.jp/'\r\n\r\nr\r\nr.body\r\nr.body_length\r\nr.spdy_version\r\nr.stream_id\r\nr.syn_reply\r\nr.syn_stream\r\n```\r\n\r\n- response\r\n\r\n```ruby\r\n#r\r\n{\r\n    :syn_reply=>{\r\n        \"x-frame-options\"=>\"SAMEORIGIN\", \r\n        \"x-xss-protection\"=>\"1; mode=block\", \r\n        \"expires\"=>\"-1\", \r\n        \"p3p\"=>\"CP=\\\"This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&answer=151657 for more info.\\\"\", \r\n        \"server\"=>\"gws\", \r\n        \"set-cookie\"=>\"; expires=Sun, 29-Jun-2014 17:16:55 GMT; path=/; domain=.google.co.jp; HttpOnly\", \r\n        \":version\"=>\"HTTP/1.1\", \r\n        \"alternate-protocol\"=>\"443:quic\", \r\n        \"cache-control\"=>\"private, max-age=0\", \r\n        \"content-type\"=>\"text/html; charset=Shift_JIS\", \r\n        \"date\"=>\"Sat, 28 Dec 2013 17:16:55 GMT\", \r\n        \":status\"=>\"200 OK\"\r\n    }, \r\n    :recieve_bytes=>953.0, \r\n    :body=>\"<html> - (snip) - </html>\", \r\n    :body_length=>953, \r\n    :spdy_proto_version=>4, \r\n    :stream_id=>1, \r\n    :syn_stream=>{\r\n        \":method\"=>\"GET\", \r\n        \":path\"=>\"/\", \r\n        \":scheme\"=>\"https\", \r\n        \":version\"=>\"HTTP/1.1\", \r\n        \":host\"=>\"www.google.co.jp\", \r\n        \"accept\"=>\"*/*\", \r\n        \"user-agent\"=>\"mruby-spdy/0.0.1\"\r\n    }\r\n}\r\n\r\n#r.body\r\n\"<html> - (snip) - </html>\"\r\n\r\n#r.body_length\r\n953\r\n\r\n#r.spdy_version\r\n4\r\n\r\n#r.syn_stream\r\n{\r\n  \":method\"=>\"GET\",\r\n  \":path\"=>\"/\",\r\n  \":scheme\"=>\"https\",\r\n  \":version\"=>\"HTTP/1.1\",\r\n  \":host\"=>\"www.google.co.jp\",\r\n  \"accept\"=>\"*/*\",\r\n  \"user-agent\"=>\"mruby-spdy/0.0.1\"\r\n}\r\n\r\n#r.syn_reply\r\n{\r\n  \"x-frame-options\"=>\"SAMEORIGIN\",\r\n  \"x-xss-protection\"=>\"1; mode=block\",\r\n  \"expires\"=>\"-1\",\r\n  \"p3p\"=>\"CP=\\\"This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&answer=151657 for more info.\\\"\",\r\n  \"server\"=>\"gws\",\r\n  \"set-cookie\"=>\"; expires=Sun, 29-Jun-2014 17:16:55 GMT; path=/; domain=.google.co.jp; HttpOnly\",\r\n  \":version\"=>\"HTTP/1.1\",\r\n  \"alternate-protocol\"=>\"443:quic\",\r\n  \"cache-control\"=>\"private, max-age=0\",\r\n  \"content-type\"=>\"text/html; charset=Shift_JIS\",\r\n  \"date\"=>\"Sat, 28 Dec 2013 17:16:55 GMT\",\r\n  \":status\"=>\"200 OK\"\r\n}\r\n\r\n```\r\n\r\n## install by mrbgems\r\n - Download\r\n\r\n```\r\ngit clone https://github.com/mruby/mruby.git\r\ngit clone https://github.com/matsumoto-r/mruby-spdy.git\r\n```\r\n\r\n - spdylay build\r\n\r\n```\r\ncd mruby-spdy\r\ngit submodule init\r\ngit submodule update\r\ncd src/spdylay\r\nautoreconf -i\r\nautomake\r\nautoconf\r\n./configure\r\nmake\r\ncd ../../../\r\n```\r\n\r\n - add conf.gem line to `build_config.rb`\r\n\r\n```\r\ncd mruby\r\n```\r\n```ruby\r\nMRuby::Build.new do |conf|\r\n\r\n  # ... (snip) ...\r\n\r\n  conf.gem '../mruby-spdy'\r\nend\r\n```\r\n\r\n - build\r\n\r\n```\r\nrake\r\n```\r\n\r\n# License\r\nunder the MIT License:\r\n\r\n* http://www.opensource.org/licenses/mit-license.php\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}